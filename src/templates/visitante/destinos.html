<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pasajes ‚Äì Edelle</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,300&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/src/static/css/VISI/estilos-destino.css" />
  <link rel="stylesheet" href="/src/static/css/USER/pasajes.css" />
</head>
<body>

<!-- ‚îÄ‚îÄ‚îÄ HEADER (sin modificar) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<header>

  <div class="navbar-container">

    <div class="logo">
      <div class="logo-container">
        <img
          src="/src/static/imagenes/INICIO/logo_edelle.jpg"
          alt="Edelle - Tu Pr√≥xima Gran Aventura"
        />
      </div>
    </div>

    <nav>
      <ul>
        <li><a href="/index.html">Inicio</a></li>
        <li>
          <a href="/src/templates/visitante/quienes-somos.html">Quienes Somos</a>
        </li>
        <li>
          <a href="/src/templates/visitante/servicios.html">Servicios</a>
        </li>
        <li><a href="#destinos">Destinos</a></li>
        <li><a href="/src/templates/visitante/pasajes.html">Pasajes</a></li>
      </ul>
    </nav>

    <div class="user-icon">
      <a href="/src/templates/comprador/login.html" title="Iniciar Sesi√≥n">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path
            d="M20 21v-2a4 4 0 0 0-5.656-3.656L12 17l-2.344-2.344A4 4 0 0 0 4 17v2"></path>
          <circle cx="12" cy="9" r="4"></circle>
        </svg>
      </a>
    </div>

  </div>

</header>

<!-- ‚îÄ‚îÄ‚îÄ HERO ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<div class="hero-strip">
  <h1>Compra tu Pasaje</h1>
  <p>Viaja seguro, c√≥modo y al mejor precio ¬∑ Colombia</p>
</div>

<!-- ‚îÄ‚îÄ‚îÄ SEARCH PANEL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<div class="search-panel">
  <h2>üîç Buscar Rutas</h2>
  <div class="search-grid">
    <div class="field-group">
      <label>Origen</label>
      <select id="origen">
        <option value="">Seleccionar ciudad‚Ä¶</option>
        <option value="bogota">Bogot√°</option>
        <option value="medellin">Medell√≠n</option>
        <option value="cali">Cali</option>
        <option value="bucaramanga">Bucaramanga</option>
        <option value="barranquilla">Barranquilla</option>
        <option value="cartagena">Cartagena</option>
        <option value="cucuta">C√∫cuta</option>
        <option value="pereira">Pereira</option>
      </select>
    </div>
    <div class="field-group">
      <label>Destino</label>
      <select id="destino">
        <option value="">Seleccionar ciudad‚Ä¶</option>
        <option value="bogota">Bogot√°</option>
        <option value="medellin">Medell√≠n</option>
        <option value="cali">Cali</option>
        <option value="bucaramanga">Bucaramanga</option>
        <option value="barranquilla">Barranquilla</option>
        <option value="cartagena">Cartagena</option>
        <option value="cucuta">C√∫cuta</option>
        <option value="pereira">Pereira</option>
      </select>
    </div>
    <div class="field-group">
      <label>Fecha de Viaje</label>
      <input type="date" id="fecha" />
    </div>
    <div class="field-group">
      <label>Pasajeros</label>
      <select id="pasajeros">
        <option value="1">1 pasajero</option>
        <option value="2">2 pasajeros</option>
        <option value="3">3 pasajeros</option>
        <option value="4">4 pasajeros</option>
      </select>
    </div>
    <button class="btn-search" onclick="buscarRutas()">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
        <circle cx="11" cy="11" r="8"/>
        <line x1="21" y1="21" x2="16.65" y2="16.65"/>
      </svg>
      Buscar
    </button>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ PAGE BODY ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<div class="page-body">

  <!-- Columna de resultados -->
  <div class="results-col">
    <div class="results-header">
      <h2 id="results-title">Rutas Disponibles</h2>
      <span class="tag" id="results-count">Cargando‚Ä¶</span>
    </div>
    <div id="routes-container">
      <!-- Rutas generadas por JS -->
    </div>
  </div>

  <!-- Panel lateral: selector de asientos + formulario -->
  <div class="side-panel">

    <!-- PASO 2: Selector de asientos -->
    <div class="panel-box" id="seat-panel">
      <h3><span class="step-badge">2</span> Selecciona tu asiento</h3>
      <div class="bus-wrapper">
        <div class="bus-legend">
          <span class="legend-item"><span class="legend-dot available"></span>Libre</span>
          <span class="legend-item"><span class="legend-dot window"></span>Ventana</span>
          <span class="legend-item"><span class="legend-dot selected"></span>Elegido</span>
          <span class="legend-item"><span class="legend-dot occupied"></span>Ocupado</span>
        </div>
        <div class="bus-front">‚ú¶ CONDUCTOR ‚ú¶</div>
        <div class="bus-body" id="bus-body">
          <!-- Asientos generados por JS -->
        </div>
      </div>
      <div class="selected-seats-info" id="seat-info">Elige una ruta primero</div>
    </div>

    <!-- PASO 3: Formulario de compra -->
    <div class="panel-box">
      <h3><span class="step-badge">3</span> Datos del Pasajero</h3>

      <div class="form-group">
        <label>Nombre completo</label>
        <input type="text" id="f-nombre" placeholder="Ej: Juan P√©rez" />
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Tipo Doc.</label>
          <select id="f-tipo-doc">
            <option>CC</option>
            <option>CE</option>
            <option>Pasaporte</option>
          </select>
        </div>
        <div class="form-group">
          <label>N√∫mero Doc.</label>
          <input type="text" id="f-doc" placeholder="12345678" />
        </div>
      </div>
      <div class="form-group">
        <label>Correo electr√≥nico</label>
        <input type="email" id="f-email" placeholder="correo@ejemplo.com" />
      </div>
      <div class="form-group">
        <label>Tel√©fono</label>
        <input type="tel" id="f-tel" placeholder="+57 300 000 0000" />
      </div>

      <div class="divider"></div>
      <h3 style="margin-bottom:1rem; font-size:.95rem;">
        <span class="step-badge" style="background:var(--accent);">üí≥</span> Pago
      </h3>

      <div class="form-group">
        <label>N√∫mero de tarjeta</label>
        <div class="card-input-wrap">
          <input type="text" id="f-card" placeholder="0000 0000 0000 0000" maxlength="19" oninput="formatCard(this)" />
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <rect x="1" y="4" width="22" height="16" rx="2" ry="2"/>
            <line x1="1" y1="10" x2="23" y2="10"/>
          </svg>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Vencimiento</label>
          <input type="text" id="f-exp" placeholder="MM/AA" maxlength="5" oninput="formatExp(this)" />
        </div>
        <div class="form-group">
          <label>CVV</label>
          <input type="text" id="f-cvv" placeholder="123" maxlength="3" />
        </div>
      </div>

      <div class="divider"></div>

      <!-- Resumen del pedido -->
      <div id="order-summary">
        <div class="summary-row"><span class="label">Ruta</span><span class="val" id="sum-ruta">‚Äî</span></div>
        <div class="summary-row"><span class="label">Fecha</span><span class="val" id="sum-fecha">‚Äî</span></div>
        <div class="summary-row"><span class="label">Asiento(s)</span><span class="val" id="sum-asientos">‚Äî</span></div>
        <div class="summary-row"><span class="label">Pasajeros</span><span class="val" id="sum-pasajeros">‚Äî</span></div>
        <div class="summary-row total">
          <span class="label">Total a pagar</span>
          <span class="val" id="sum-total">$0</span>
        </div>
      </div>

      <button class="btn-buy" id="btn-buy" onclick="procesarCompra()">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/>
        </svg>
        Confirmar Compra
        <div class="spinner" id="spinner"></div>
      </button>
    </div>

  </div><!-- /side-panel -->
</div><!-- /page-body -->

<!-- ‚îÄ‚îÄ‚îÄ MODAL DE √âXITO ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<div class="modal-overlay" id="modal">
  <div class="modal">
    <div class="check-icon">‚úÖ</div>
    <h2>¬°Compra Exitosa!</h2>
    <p>Tu pasaje ha sido reservado. Recibir√°s la confirmaci√≥n en tu correo electr√≥nico.</p>
    <div class="booking-ref" id="booking-ref">EDL-000000</div>
    <button class="btn-modal-close" onclick="cerrarModal()">Volver al inicio</button>
  </div>
</div>

<script src="/pasajes.js"></script>
</body>
</html>